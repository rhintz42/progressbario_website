
$(document).ready(function() {
    var progressbarObj = new Object;
    var progressbarObjJSON = "{}";

    <% if @progressbar_obj_json then %>

      var progressbarObjJSON = '<%= raw @progressbar_obj_json %>';
      progressbarObj = JSON.parse('<%= raw @progressbar_obj_json %>');
    <% end %>

    var div = $("#container");
    div.remove();
    //CAN GET THE TRUE HEIGHT/WIDTH OF THE PROGRESSBAR FROM GETTING IT FROM THE progressbarObj Object
    $("#container_wrapper").append('<div id="container"\
                                         style="border: 2px solid;\
                                         height: '+500+'px;\
                                         width: '+500+'px;\
                                         margin-left: auto;\
                                         margin-right: auto;\
                                         background-color: white;">\
                                    </div>');

    var div2 = $("#progressbar_output");
    div2.remove();

    $("#progressbar_output_container").append('<div id="progressbar_output" style="margin: 20px;">\
                                                    var progressbarInput=' + progressbarObjJSON + '\
                                               </div>');
    
    var progressbar = new Progressbar(progressbarObj);
});

<% if false then %>
  <%= j render("progressbar") %>
<% end %>
